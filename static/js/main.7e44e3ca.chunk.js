(this["webpackJsonpreact-pages"]=this["webpackJsonpreact-pages"]||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(33),s=n.n(r),i=(n(132),n(133),n(12)),l=n(230),o=n(232),j=n(233),d=n(234),b=n(235),u=n(204),x=n(205),O=n(206),h=n(203),m=n(43),p=n(17),f=n.n(p),g=n(32),v=n(107),y=n.n(v).a.create({baseURL:"http://165.232.64.135:3000"});y.interceptors.request.use(function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers={Accept:"application/json","Content-Type":"application/json"},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Promise.reject(e)}));var S=y,w=n(2);function C(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){console.log(n)}),[n]),Object(c.useEffect)((function(){S.get("/songs").then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.a,{mb:1,children:Object(w.jsx)(l.a,{children:Object(w.jsx)(o.a,{title:"\u0414\u043e\u0434\u0430\u0442\u0438",action:Object(w.jsx)(j.a,{component:m.b,to:"/add-song",children:Object(w.jsx)(u.a,{})})})})}),0!==n.length?n.map((function(e,t){return Object(w.jsx)(h.a,{mb:1,children:Object(w.jsxs)(l.a,{children:[Object(w.jsx)(o.a,{title:(null===e||void 0===e?void 0:e.name)||"no name"}),Object(w.jsx)(d.a,{children:Object(w.jsxs)(h.a,{justifyContent:"space-between",display:"flex",width:"100%",children:[Object(w.jsx)(b.a,{variant:"outlined",component:m.b,to:"/edit/".concat(e._id),children:Object(w.jsx)(x.a,{})}),Object(w.jsx)(b.a,{variant:"contained",component:m.b,to:"/songs/".concat(e._id),children:Object(w.jsx)(O.a,{})})]})})]})},e._id)})):"no songs (("]})}var k=n(236),E=n(207),I=n(237),P=n(222),T=n(208),_=n(209),q=n(210),B=n(211),F=n(238),M=n(78),N=n(227),D=n(212),z=240;var W=function(e){var t=e.window,n=e.children,a=c.useState(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],o=c.useState(!1),d=Object(i.a)(o,2),b=(d[0],d[1],function(){l(!s)}),u=Object(w.jsxs)("div",{children:[Object(w.jsx)(k.a,{}),Object(w.jsx)(E.a,{}),Object(w.jsx)(I.a,{children:["Inbox","Starred","Send email","Drafts"].map((function(e,t){return Object(w.jsxs)(P.a,{button:!0,children:[Object(w.jsx)(T.a,{children:"test"}),Object(w.jsx)(_.a,{primary:e})]},e)}))}),Object(w.jsx)(E.a,{}),Object(w.jsx)(I.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(w.jsxs)(P.a,{button:!0,children:[Object(w.jsx)(T.a,{children:"test 2"}),Object(w.jsx)(_.a,{primary:e})]},e)}))})]}),x=void 0!==t?function(){return t().document.body}:void 0;return Object(w.jsxs)(q.a,{sx:{display:"flex"},children:[Object(w.jsx)(B.a,{}),Object(w.jsx)(F.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(z,"px)")},ml:{sm:"".concat(z,"px")}},children:Object(w.jsxs)(k.a,{children:[Object(w.jsx)(j.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:b,sx:{mr:2,display:{sm:"none"}},children:Object(w.jsx)(D.a,{})}),Object(w.jsx)(m.b,{to:"/",children:Object(w.jsx)(M.a,{variant:"h6",noWrap:!0,children:"Worship"})})]})}),Object(w.jsxs)(q.a,{component:"nav",sx:{width:{sm:z},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(w.jsx)(N.a,{container:x,variant:"temporary",open:s,onClose:b,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:z}},children:u}),Object(w.jsx)(N.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:z}},open:!0,children:u})]}),Object(w.jsxs)(q.a,{component:"main",sx:{flexGrow:1,p:1},children:[Object(w.jsx)(k.a,{}),n]})]})},A=n(15),L=n(229),H=n(53),K=n(42),R=n(225);var Y=function(e){var t=e.control,n=e.label,c=e.name,a=void 0===c?"text_field_name":c,r=e.disabled,s=void 0!==r&&r,i=e.required,l=void 0===i||i,o=e.type,j=e.multiline,d=void 0!==j&&j,b=e.rows,u=void 0===b?6:b;return Object(w.jsx)(H.a,{label:n,control:t,name:a,render:function(e){var t=e.field,c=e.fieldState;return Object(w.jsx)(R.a,Object(K.a)(Object(K.a)({},t),{},{error:c.error&&0!==Object.keys(c.error).length,disabled:s,fullWidth:!0,label:n,variant:"outlined",type:o,InputLabelProps:{shrink:!!t.value},multiline:d,rows:u}))},rules:{required:l}})};function G(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=(t[0],t[1],Object(H.b)()),a=n.handleSubmit,r=(n.formState.errors,n.control),s=(n.reset,Object(A.f)());return Object(w.jsxs)("form",{onSubmit:a((function(e){S.post("/songs",e).then((function(e){console.log(e.data._id),s.push("/edit/".concat(e.data._id))})).catch((function(e){console.log(e.message)}))})),children:[Object(w.jsx)(L.a,{container:!0,spacing:2,mb:2,children:Object(w.jsx)(L.a,{item:!0,xs:12,children:Object(w.jsx)(Y,{control:r,label:"Song name",name:"name"})})}),Object(w.jsxs)(L.a,{container:!0,spacing:2,mb:3,children:[Object(w.jsx)(L.a,{item:!0,xs:4,children:Object(w.jsx)(Y,{control:r,label:"BPM",name:"bpm",required:!1,type:"number"})}),Object(w.jsx)(L.a,{item:!0,xs:4,children:Object(w.jsx)(Y,{control:r,label:"KEY",name:"key",required:!1})}),Object(w.jsx)(L.a,{item:!0,xs:4,height:"100%",children:Object(w.jsx)(q.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(w.jsx)(b.a,{variant:"contained",type:"submit",size:"large",children:"Create"})})})]})]})}var J=n(221),U=n(76),V=(n(160),n(241)),Q=n(226),X=n(220),Z=n(242);function $(e){var t=e.updateStart,n=e.updateEnd,c=e.start,a=e.end;return Object(w.jsx)("div",{style:{paddingBottom:"8px"},children:Object(w.jsxs)(L.a,{container:!0,spacing:3,children:[Object(w.jsx)(L.a,{item:!0,xs:3,children:Object(w.jsxs)(V.a,{fullWidth:!0,children:[Object(w.jsx)(Q.a,{id:"demo-simple-select-label",children:"Start"}),Object(w.jsxs)(X.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,label:"Start",onChange:function(e){return t(e.target.value)},children:[Object(w.jsx)(Z.a,{value:10,children:"Ten"}),Object(w.jsx)(Z.a,{value:20,children:"Twenty"}),Object(w.jsx)(Z.a,{value:30,children:"Thirty"})]})]})}),Object(w.jsx)(L.a,{item:!0,xs:3,children:Object(w.jsxs)(V.a,{fullWidth:!0,children:[Object(w.jsx)(Q.a,{id:"demo-simple-select-label",children:"End"}),Object(w.jsxs)(X.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:"End",onChange:function(e){return n(e.target.value)},children:[Object(w.jsx)(Z.a,{value:10,children:"Ten"}),Object(w.jsx)(Z.a,{value:20,children:"Twenty"}),Object(w.jsx)(Z.a,{value:30,children:"Thirty"})]})]})})]})})}var ee=n(243),te=n(216),ne=n(217);n(112),n(215);function ce(e){var t=e.strings,n=e.provided,a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(c.useState)(""),d=Object(i.a)(o,2),b=d[0],u=d[1],x=Object(c.useState)(""),O=Object(i.a)(x,2),h=O[0],m=O[1];return Object(w.jsxs)("div",Object(K.a)(Object(K.a)({className:"card",ref:n.innerRef},n.draggableProps),{},{children:[Object(w.jsxs)("div",{className:"card--content",children:[Object(w.jsxs)("div",{className:"card--header",children:[Object(w.jsx)("p",{className:"title",children:"title"===t[0].type?t[0].string:"no title"}),s?Object(w.jsx)(j.a,{onClick:function(){return l(!1)},children:Object(w.jsx)(ne.a,{})}):Object(w.jsx)(j.a,{onClick:function(){return l(!0)},children:Object(w.jsx)(te.a,{})})]}),Object(w.jsx)(ee.a,{in:s,children:Object(w.jsx)($,{start:b,end:h,updateStart:u,updateEnd:m})}),Object(w.jsx)("div",{className:"card--text",children:t.map((function(e,t){var n=e.string,c=e.type;return 0===t&&"title"===c?null:Object(w.jsx)("p",{className:c,children:n})}))})]}),Object(w.jsx)("div",Object(K.a)({className:"card--dynamic"},n.dragHandleProps))]}))}var ae=n(223);n(161);function re(){var e=Object(A.g)().id,t=Object(c.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d="bottom",b="center";Object(c.useEffect)((function(){S.get("/songs/".concat(e)).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[e]);var u=Object(c.useState)(0),x=Object(i.a)(u,2),O=x[0],h=x[1];return Object(c.useEffect)((function(){O<2?h((function(e){return e+1})):S.patch("/songs/".concat(e),a).then((function(e){console.log(e),j(!0)})).catch((function(e){console.log(e.message)}))}),[a]),Object(w.jsx)(w.Fragment,{children:a?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(q.a,{mb:2,children:[Object(w.jsx)(M.a,{variant:"h3",align:"center",children:a.name}),Object(w.jsxs)(L.a,{container:!0,spacing:4,justifyContent:"center",children:[Object(w.jsx)(L.a,{item:!0,children:Object(w.jsxs)(M.a,{children:["BPM: ",a.bpm]})}),Object(w.jsx)(L.a,{item:!0,children:Object(w.jsxs)(M.a,{children:["KEY: ",a.key]})})]})]}),Object(w.jsx)(U.a,{onDragEnd:function(e){if(e.destination){console.log(e);var t=Array.from(a.elements),n=t.splice(e.source.index,1),c=Object(i.a)(n,1)[0];t.splice(e.destination.index,0,c),console.log(t),r((function(e){return{name:e.name,key:e.key,bpm:e.bpm,elements:t}}))}},children:Object(w.jsx)(U.c,{droppableId:"characters",children:function(e){return Object(w.jsxs)("div",Object(K.a)(Object(K.a)({className:"characters"},e.droppableProps),{},{ref:e.innerRef,children:[a.elements.map((function(e,t){var n=e._id,c=e.strings;return Object(w.jsx)(U.b,{draggableId:n,index:t,children:function(e){return Object(w.jsx)(ce,{provided:e,strings:c})}},n)})),e.placeholder]}))}})}),Object(w.jsx)(ae.a,{open:o,autoHideDuration:1e3,onClose:function(){return j(!1)},anchorOrigin:{vertical:d,horizontal:b},children:Object(w.jsx)(J.a,{severity:"success",children:"Saved!"})},"bottomcenter")]}):"song loading or 404"})}var se=["A","B","C","D","E","F","G","H"],ie=["Intro","Verse","Chorus","Instrumental","Tag","Interclude","Bridge","Outro","Pre-Chorus"];function le(e){var t=function(t,n){return!0===!t?e.includes(n):t};switch(!0){case se.reduce(t,!1):return"chords";case ie.reduce(t,!1):return"title";default:return"text"}}function oe(){var e=Object(A.g)().id,t=Object(A.f)(),n=Object(H.b)(),a=n.handleSubmit,r=(n.formState.errors,n.control),s=n.reset,l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1];return Object(c.useEffect)((function(){S.get("/songs/".concat(e)).then((function(e){0===e.data.elements.length&&d(!0),s(e.data)})).catch((function(e){console.log(e)}))}),[e,s]),Object(w.jsxs)("form",{onSubmit:a((function(n){j&&(n.elements=function(e){if(0===e.length)return e;var t=e.split("\n\n");return t.map((function(e){var t=e.split("\n");return{start:0,end:1,strings:t=t.map((function(e){return{type:le(e),string:e}}))}}))}(n.elements)),S.patch("/songs/".concat(e),n).then((function(e){console.log(e),t.push("/songs/".concat(e.data._id))})).catch((function(e){console.log(e.message)}))})),children:[Object(w.jsx)(L.a,{container:!0,spacing:2,mb:2,children:Object(w.jsx)(L.a,{item:!0,xs:12,children:Object(w.jsx)(Y,{control:r,label:"Song name",name:"name"})})}),Object(w.jsxs)(L.a,{container:!0,spacing:2,mb:3,children:[Object(w.jsx)(L.a,{item:!0,xs:4,children:Object(w.jsx)(Y,{control:r,label:"BPM",name:"bpm",required:!1,type:"number"})}),Object(w.jsx)(L.a,{item:!0,xs:4,children:Object(w.jsx)(Y,{control:r,label:"KEY",name:"key",required:!1})}),Object(w.jsx)(L.a,{item:!0,xs:4,height:"100%",children:Object(w.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(w.jsx)(b.a,{variant:"contained",type:"submit",size:"large",children:"Edit"})})})]}),j&&Object(w.jsx)(L.a,{container:!0,children:Object(w.jsx)(L.a,{item:!0,xs:12,children:Object(w.jsx)(Y,{control:r,label:"Text",name:"elements",required:!1,multiline:!0})})})]})}var je=function(){return Object(w.jsx)(m.a,{children:Object(w.jsx)(W,{children:Object(w.jsxs)(A.c,{children:[Object(w.jsx)(A.a,{exact:!0,path:"/",children:Object(w.jsx)(C,{})}),Object(w.jsx)(A.a,{path:"/add-song",children:Object(w.jsx)(G,{})}),Object(w.jsx)(A.a,{exact:!0,path:"/songs/:id",children:Object(w.jsx)(re,{})}),Object(w.jsx)(A.a,{exact:!0,path:"/edit/:id",children:Object(w.jsx)(oe,{})})]})})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,244)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(je,{})}),document.getElementById("root")),de()}},[[162,1,2]]]);
//# sourceMappingURL=main.7e44e3ca.chunk.js.map