(this["webpackJsonpreact-pages"]=this["webpackJsonpreact-pages"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(37),i=n.n(a),s=(n(113),n(114),n(13)),o=n(198),j=n(200),l=n(202),b=n(203),d=n(204),u=n(184),x=n(185),h=n(186),O=n(179),m=n(33),p=n(17),f=n.n(p),g=n(28),v=n(91),y=n.n(v).a.create({baseURL:"http://165.232.64.135:3000"});y.interceptors.request.use(function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers={Accept:"application/json","Content-Type":"application/json"},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Promise.reject(e)}));var S=y,w=n(2);function C(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){console.log(n)}),[n]),Object(c.useEffect)((function(){S.get("/songs").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{mb:1,children:Object(w.jsx)(o.a,{children:Object(w.jsx)(j.a,{title:"\u0414\u043e\u0434\u0430\u0442\u0438",action:Object(w.jsx)(l.a,{component:m.b,to:"/add-song",children:Object(w.jsx)(u.a,{})})})})}),0!==n.length?n.map((function(e,t){return Object(w.jsx)(O.a,{mb:1,children:Object(w.jsxs)(o.a,{children:[Object(w.jsx)(j.a,{title:(null===e||void 0===e?void 0:e.name)||"no name"}),Object(w.jsx)(b.a,{children:Object(w.jsxs)(O.a,{justifyContent:"space-between",display:"flex",width:"100%",children:[Object(w.jsx)(d.a,{variant:"outlined",component:m.b,to:"/edit/".concat(e._id),children:Object(w.jsx)(x.a,{})}),Object(w.jsx)(d.a,{variant:"contained",component:m.b,to:"/songs/".concat(e._id),children:Object(w.jsx)(h.a,{})})]})})]})},e._id)})):"no songs (("]})}var k=n(205),E=n(206),I=n(207),P=n(194),_=n(208),q=n(209),F=n(187),M=n(188),B=n(210),T=n(201),D=n(196),z=n(189),L=240;var A=function(e){var t=e.window,n=e.children,r=c.useState(!1),a=Object(s.a)(r,2),i=a[0],o=a[1],j=function(){o(!i)},b=Object(w.jsxs)("div",{children:[Object(w.jsx)(k.a,{}),Object(w.jsx)(E.a,{}),Object(w.jsx)(I.a,{children:["Inbox","Starred","Send email","Drafts"].map((function(e,t){return Object(w.jsxs)(P.a,{button:!0,children:[Object(w.jsx)(_.a,{children:"test"}),Object(w.jsx)(q.a,{primary:e})]},e)}))}),Object(w.jsx)(E.a,{}),Object(w.jsx)(I.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(w.jsxs)(P.a,{button:!0,children:[Object(w.jsx)(_.a,{children:"test 2"}),Object(w.jsx)(q.a,{primary:e})]},e)}))})]}),d=void 0!==t?function(){return t().document.body}:void 0;return Object(w.jsxs)(F.a,{sx:{display:"flex"},children:[Object(w.jsx)(M.a,{}),Object(w.jsx)(B.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(L,"px)")},ml:{sm:"".concat(L,"px")}},children:Object(w.jsxs)(k.a,{children:[Object(w.jsx)(l.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:j,sx:{mr:2,display:{sm:"none"}},children:Object(w.jsx)(z.a,{})}),Object(w.jsx)(T.a,{variant:"h6",noWrap:!0,component:m.b,to:"/",children:"Worship"})]})}),Object(w.jsxs)(F.a,{component:"nav",sx:{width:{sm:L},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(w.jsx)(D.a,{container:d,variant:"temporary",open:i,onClose:j,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:L}},children:b}),Object(w.jsx)(D.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:L}},open:!0,children:b})]}),Object(w.jsxs)(F.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(w.jsx)(k.a,{}),n]})]})},K=n(15),W=n(197),Y=n(41),G=n(76),J=n(191);var H=function(e){var t=e.control,n=e.label,c=e.name,r=void 0===c?"text_field_name":c,a=e.disabled,i=void 0!==a&&a,s=e.required,o=void 0===s||s,j=e.type,l=e.multiline,b=void 0!==l&&l,d=e.rows,u=void 0===d?6:d;return Object(w.jsx)(Y.a,{label:n,control:t,name:r,render:function(e){var t=e.field,c=e.fieldState;return Object(w.jsx)(J.a,Object(G.a)(Object(G.a)({},t),{},{error:c.error&&0!==Object.keys(c.error).length,disabled:i,fullWidth:!0,label:n,variant:"outlined",type:j,InputLabelProps:{shrink:!!t.value},multiline:b,rows:u}))},rules:{required:o}})};function R(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=(t[0],t[1],Object(Y.b)()),r=n.handleSubmit,a=(n.formState.errors,n.control),i=(n.reset,Object(K.f)());return Object(w.jsxs)("form",{onSubmit:r((function(e){S.post("/songs",e).then((function(e){console.log(e.data._id),i.push("/edit/".concat(e.data._id))})).catch((function(e){console.log(e.message)}))})),children:[Object(w.jsx)(W.a,{container:!0,spacing:2,mb:2,children:Object(w.jsx)(W.a,{item:!0,xs:12,children:Object(w.jsx)(H,{control:a,label:"Song name",name:"name"})})}),Object(w.jsxs)(W.a,{container:!0,spacing:2,mb:3,children:[Object(w.jsx)(W.a,{item:!0,xs:4,children:Object(w.jsx)(H,{control:a,label:"BPM",name:"bpm",required:!1,type:"number"})}),Object(w.jsx)(W.a,{item:!0,xs:4,children:Object(w.jsx)(H,{control:a,label:"KEY",name:"key",required:!1})}),Object(w.jsx)(W.a,{item:!0,xs:4,height:"100%",children:Object(w.jsx)(F.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(w.jsx)(d.a,{variant:"contained",type:"submit",size:"large",children:"Create"})})})]})]})}var U=n(211);function V(e){var t=e.strings;return Object(w.jsx)(O.a,{mb:1,children:Object(w.jsx)(o.a,{children:Object(w.jsx)(U.a,{children:t.map((function(e){return function(e,t){switch(t){case"text":return Object(w.jsx)(T.a,{variant:"body1",children:e});case"title":return Object(w.jsx)(T.a,{variant:"h6",children:e});case"chords":return Object(w.jsx)(T.a,{variant:"button",children:e})}}(e.string,e.type)}))})})})}function N(){var e=Object(K.g)().id,t=Object(c.useState)(null),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){S.get("/songs/".concat(e)).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[e]),Object(w.jsx)(w.Fragment,{children:r?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(F.a,{mb:2,children:[Object(w.jsx)(T.a,{variant:"h3",align:"center",children:r.name}),Object(w.jsxs)(W.a,{container:!0,spacing:4,justifyContent:"center",children:[Object(w.jsx)(W.a,{item:!0,children:Object(w.jsxs)(T.a,{children:["BPM: ",r.bpm]})}),Object(w.jsx)(W.a,{item:!0,children:Object(w.jsxs)(T.a,{children:["KEY: ",r.key]})})]})]}),r.elements.map((function(e){return Object(w.jsx)(V,{strings:e.strings},e._id)}))]}):"song loading or 404"})}var Q=["A","B","C","D","E","F","G","H"],X=["Intro","Verse","Chorus","Instrumental","Tag","Interclude","Bridge","Outro","Pre-Chorus"];function Z(e){var t=function(t,n){return!0===!t?e.includes(n):t};switch(!0){case Q.reduce(t,!1):return"chords";case X.reduce(t,!1):return"title";default:return"text"}}function $(){var e=Object(K.g)().id,t=Object(K.f)(),n=Object(Y.b)(),r=n.handleSubmit,a=(n.formState.errors,n.control),i=n.reset,o=Object(c.useState)(!1),j=Object(s.a)(o,2),l=j[0],b=j[1];return Object(c.useEffect)((function(){S.get("/songs/".concat(e)).then((function(e){0===e.data.elements.length&&b(!0),i(e.data)})).catch((function(e){console.log(e)}))}),[e,i]),Object(w.jsxs)("form",{onSubmit:r((function(n){l&&(n.elements=function(e){if(0===e.length)return e;var t=e.split("\n\n");return t.map((function(e){var t=e.split("\n");return{start:0,end:1,strings:t=t.map((function(e){return{type:Z(e),string:e}}))}}))}(n.elements)),S.patch("/songs/".concat(e),n).then((function(e){console.log(e),t.push("/songs/".concat(e.data._id))})).catch((function(e){console.log(e.message)}))})),children:[Object(w.jsx)(W.a,{container:!0,spacing:2,mb:2,children:Object(w.jsx)(W.a,{item:!0,xs:12,children:Object(w.jsx)(H,{control:a,label:"Song name",name:"name"})})}),Object(w.jsxs)(W.a,{container:!0,spacing:2,mb:3,children:[Object(w.jsx)(W.a,{item:!0,xs:4,children:Object(w.jsx)(H,{control:a,label:"BPM",name:"bpm",required:!1,type:"number"})}),Object(w.jsx)(W.a,{item:!0,xs:4,children:Object(w.jsx)(H,{control:a,label:"KEY",name:"key",required:!1})}),Object(w.jsx)(W.a,{item:!0,xs:4,height:"100%",children:Object(w.jsx)(O.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(w.jsx)(d.a,{variant:"contained",type:"submit",size:"large",children:"Edit"})})})]}),l&&Object(w.jsx)(W.a,{container:!0,children:Object(w.jsx)(W.a,{item:!0,xs:12,children:Object(w.jsx)(H,{control:a,label:"Text",name:"elements",required:!1,multiline:!0})})})]})}var ee=function(){return Object(w.jsx)(m.a,{children:Object(w.jsx)(A,{children:Object(w.jsxs)(K.c,{children:[Object(w.jsx)(K.a,{exact:!0,path:"/",children:Object(w.jsx)(C,{})}),Object(w.jsx)(K.a,{path:"/add-song",children:Object(w.jsx)(R,{})}),Object(w.jsx)(K.a,{exact:!0,path:"/songs/:id",children:Object(w.jsx)(N,{})}),Object(w.jsx)(K.a,{exact:!0,path:"/edit/:id",children:Object(w.jsx)($,{})})]})})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(ee,{})}),document.getElementById("root")),te()}},[[144,1,2]]]);
//# sourceMappingURL=main.cfea7465.chunk.js.map